<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!-- Categoría del módulo -->
    <record id="module_category_vilaexplorer" model="ir.module.category">
        <field name="name">Vila Explorer</field>
        <field name="sequence">1</field>
    </record>

    <record id="module_category_vilaexplorer_vilaexplorer" model="ir.module.category">
        <field name="name">Vila Explorer</field>
        <field name="sequence">3</field>
    </record>

    <!-- Grupos de Vila Explorer -->
    <record id="group_vilaexplorer_usuario" model="res.groups">
        <field name="name">Usuario: Solo puede ver sus propias recetas</field>
        <field name="category_id" ref="module_category_vilaexplorer_vilaexplorer"/>
        <field name="implied_ids" eval="[(3, ref('group_vilaexplorer_administrador')), (3, ref('group_vilaexplorer_redactor'))]"/>
    </record>

    <record id="group_vilaexplorer_administrador" model="res.groups">
        <field name="name">Administrador</field>
        <field name="category_id" ref="module_category_vilaexplorer_vilaexplorer"/>
        <field name="implied_ids" eval="[(3, ref('group_vilaexplorer_usuario')), (3, ref('group_vilaexplorer_redactor'))]"/>
    </record>

    <record id="group_vilaexplorer_redactor" model="res.groups">
        <field name="name">Redactor: puede aceptar recetas y crear artículos</field>
        <field name="category_id" ref="module_category_vilaexplorer_vilaexplorer"/>
        <field name="implied_ids" eval="[(3, ref('group_vilaexplorer_usuario')), (3, ref('group_vilaexplorer_administrador'))]"/>
    </record>

    <!-- Record rules para el modelo `favoritos` -->
    <record id="favoritos_rule_usuario" model="ir.rule">
        <field name="name">Favoritos del usuario</field>
        <field name="model_id" ref="model_vilaexplorer_favorito"/>
        <field name="domain_force">[('create_uid', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_usuario'))]"/>
    </record>

    <record id="favoritos_rule_administrador" model="ir.rule">
        <field name="name">Todos los favoritos</field>
        <field name="model_id" ref="model_vilaexplorer_favorito"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_administrador'))]"/>
    </record>

    <!-- Record rules para el modelo `articulo` -->
    <record id="articulo_administrador_rule" model="ir.rule">
        <field name="name">Todos los artículos</field>
        <field name="model_id" ref="model_vilaexplorer_articulo"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_administrador'))]"/>
    </record>

    <record id="articulo_redactor_rule" model="ir.rule">
        <field name="name">Gestionar artículos</field>
        <field name="model_id" ref="model_vilaexplorer_articulo"/>
        <field name="domain_force">[(1, '=',1)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_redactor'))]"/>
    </record>

    <!-- Record rules para el modelo `plato` -->
    <record id="plato_usuario_rule" model="ir.rule">
        <field name="name">Platos propios</field>
        <field name="model_id" ref="model_vilaexplorer_plato"/>
        <field name="domain_force">[('create_uid', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_usuario'))]"/>
    </record>

    <record id="plato_administrador_rule" model="ir.rule">
        <field name="name">Todos los platos</field>
        <field name="model_id" ref="model_vilaexplorer_plato"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_administrador'))]"/>
    </record>

    <!-- Record rules para el modelo `puntuacion` -->
    <record id="puntuacion_usuario_rule" model="ir.rule">
        <field name="name">Puntuaciones propias</field>
        <field name="model_id" ref="model_vilaexplorer_puntuacion"/>
        <field name="domain_force">[('create_uid', '=', user.id)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_usuario'))]"/>
    </record>

    <record id="puntuacion_administrador_rule" model="ir.rule">
        <field name="name">Todas las puntuaciones</field>
        <field name="model_id" ref="model_vilaexplorer_puntuacion"/>
        <field name="domain_force">[(1, '=', 1)]</field>
        <field name="groups" eval="[(4, ref('group_vilaexplorer_administrador'))]"/>
    </record>
</odoo>