<odoo>
  <data>

    <!-- Definición de la vista Tree para Roles -->
    <record id="view_vilaexplorer_rol_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.rol.tree</field>
      <field name="model">vilaexplorer.rol</field>
      <field name="arch" type="xml">
        <tree string="Roles">
          <field name="nombre" string="Nombre del Rol" width="40%"/>
          <field name="activo" string="Activo" width="20%"/>
        </tree>
      </field>
    </record>

    <!-- Definición de la vista Form para Roles -->
    <record id="view_vilaexplorer_rol_form" model="ir.ui.view">
      <field name="name">vilaexplorer.rol.form</field>
      <field name="model">vilaexplorer.rol</field>
      <field name="arch" type="xml">
        <form string="Rol">
          <sheet>
            <group>
              <field name="nombre"/>
              <field name="activo"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Roles -->
    <record id="action_open_roles" model="ir.actions.act_window">
      <field name="name">Roles</field>
      <field name="res_model">vilaexplorer.rol</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_rol_tree"/>
    </record>

    <!-- Definición de la vista Tree para Usuarios -->
    <record id="view_vilaexplorer_usuario_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.usuario.tree</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <tree string="Usuarios">
          <field name="nombre" widget="badge" decoration-success="activo == True" decoration-danger="activo == False" string="Nombre" width="10%"/>
          <field name="email" string="Correo Electrónico" width="20%"/>
          <field name="activo" string="Activo" widget="boolean_toggle" width="5%"/>
          <field name="fecha_creacion" string="Fecha de Creación" width="10%"/>
          <field name="rol_actual_id" string="Rol Actual" width="10%"/>
          <field name="image_1920" widget="image" string="Foto de perfil" options="{'size':[100, 80]}"/>
        </tree>
      </field>
    </record>

    <!-- Definición de la vista Form para Usuarios -->
    <record id="view_vilaexplorer_usuario_form" model="ir.ui.view">
      <field name="name">vilaexplorer.usuario.form</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <form string="Usuario">
          <sheet>
            <group>
              <field name="nombre"/>
              <field name="email"/>
              <field name="password" password="True"/>
              <field name="activo"/>
              <field name="fecha_creacion"/>
              <field name="rol_actual_id"/>
              <field name="image_1920" widget="image" options="{'size':[100,80]}"/>
              <!-- Mostrar roles históricos -->
              <field name="roles">
                <tree string="Roles Históricos">
                  <field name="rol_id"/>
                  <field name="fecha_de_asignacion"/>
                </tree>
              </field>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Usuarios -->
    <record id="action_open_usuarios" model="ir.actions.act_window">
      <field name="name">Usuarios</field>
      <field name="res_model">vilaexplorer.usuario</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_usuario_tree"/>
    </record>

    <record id="view_vilaexplorer_fiesta_tradicion_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.fiesta_tradicion.tree</field>
      <field name="model">vilaexplorer.fiesta_tradicion</field>
      <field name="arch" type="xml">
        <tree string="Fiestas y Tradiciones">
          <field name="nombre" string="Nombre" width="30%"/>
          <field name="descripcion" string="Descripción" width="30%"/>
          <!-- Cambiar el campo de imagen para usar image_128 proporcionado por image.mixin -->
          <field name="image_128" widget="image" string="Imagen" class="oe_avatar"/>
          <field name="autor_id" string="Autor" width="20%"/>
        </tree>
      </field>
    </record>

    <record id="view_vilaexplorer_fiesta_tradicion_form" model="ir.ui.view">
      <field name="name">vilaexplorer.fiesta_tradicion.form</field>
      <field name="model">vilaexplorer.fiesta_tradicion</field>
      <field name="arch" type="xml">
        <form string="Fiesta o Tradición">
          <sheet>
            <group>
              <field name="nombre"/>
              <field name="descripcion"/>
              <field name="image_1920" widget="image" class="oe_avatar" style="max-width: 256px; max-height: 256px;"/>
              <field name="autor_id"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Fiestas y Tradiciones -->
    <record id="action_open_fiesta_tradicion" model="ir.actions.act_window">
      <field name="name">Fiestas y Tradiciones</field>
      <field name="res_model">vilaexplorer.fiesta_tradicion</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_fiesta_tradicion_tree"/>
    </record>

    <!-- Definición de la vista Tree para Platos -->
    <record id="view_vilaexplorer_plato_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.plato.tree</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <tree string="Platos" decoration-muted="estado == False" decoration-success="estado == True">
          <field name="nombre" widget="badge" decoration-danger="estado == False" decoration-success="estado == True" string="Nombre del Plato" width="15%"/>
          <field name="descripcion" string="Descripción" width="20%"/>
          <field name="tipo_plato_id" string="Tipo de Plato" width="15%"/>
          <field name="estado" string="Estado de Aprobación" widget="boolean_toggle" width="10%"/>
          <field name="autor_id" string="Autor" widget="many2one_clickable" width="10%" context="{'form_view_ref': 'vilaexplorer.usuario'}"/>
          <field name="image_128" widget="image" string="Imagen" class="oe_avatar" options="{'size':[100, 80]}"/>
          <field name="puntuacion" string="Puntuación" widget="progressbar" width="10%"/>
        </tree>
      </field>
    </record>

    <!-- VISTA KANBAN -->
    <record id="view_kanban_plato" model="ir.ui.view">
      <field name="name">vilaexplorer.plato.kanban</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="type">kanban</field>
      <field name="arch" type="xml">
        <kanban>
          <field name="id"/>
          <templates>
            <t t-name="kanban-box">
              <div class="oe_kanban_global_click">
                <div class="o_kanban_image">
                  <img alt="Imagen del plato" t-att-src="kanban_image('vilaexplorer.plato', 'image_128', record.id.raw_value)" class="o_image_64_contain"/>
                </div>
                <div class="oe_kanban_details">
                  <strong class="o_kanban_record_title">
                    <field name="nombre" />
                  </strong>
                  <div>
                    <strong>Descripción:</strong>
                    <field name="descripcion"/>
                  </div>
                  <div>
                    <strong>Estado:</strong>
                    <field name="estado" widget="boolean_toggle" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
                  </div>
                </div>
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>

    <!-- VISTA CALENDAR -->
    <record id="view_plato_calendar" model="ir.ui.view">
      <field name="name">view.plato.calendar</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <calendar string="Calendario de platos" date_start="fecha_aprobado" color="estado" quick_add="True" mode="month" event_open_popup="1">
          <field name="nombre"/>
          <field name="descripcion"/>
          <field name="tipo_plato_id"/>
          <field name="estado" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
        </calendar>
      </field>
    </record>

    <!-- VISTA SEARCH -->
    <record id="view_plato_search" model="ir.ui.view">
      <field name="name">view.plato.search</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <search>

          <field name="nombre"/>
          <field name="descripcion"/>
          <field name="ingredientes"/>
          <field name="receta"/>
          <field name="estado" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
          <field name="fecha_aprobado" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
          <field name="tipo_plato_id"/>
          <field name="autor_id" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
          <field name="aprobador_id" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>

          <!-- Filtros -->
          <filter string="Platos con alta puntuación" name="alta_puntuacion" domain="[('puntuacion', '>=', 80)]"/>
          <filter string="Platos que ya han sido aprobados" name="aprobados" domain="[('estado', '=', True)]"/>

          <!-- Grupo -->
          <group expand="0" string="Group By">
            <filter string="Por fecha de aprobado" name="group_by_date_of_aproval" context="{'group_by': 'fecha_aprobado'}"/>
            <filter string="Por estado" name="group_by_state" context="{'group_by': 'estado'}"/>
          </group>
        </search>
      </field>
    </record>

    <!-- Definición de la vista Form para Platos -->
    <record id="view_vilaexplorer_plato_form" model="ir.ui.view">
      <field name="name">vilaexplorer.plato.form</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <form string="Plato">
          <sheet>
            <group style="display: flex; justify-content: center;">
              <h1 style="display: flex;flex-direction: column;width: 500px;">
                <field name="nombre" style="font-size: 24px; font-weight: bold; text-align: center; margin-bottom: 15px;" />
                <div style="display: flex;flex-direction: column;align-items: center;gap: 10px;margin-bottom: 20px;width: 400px;align-self: center;">
                  <div style="display: flex;flex-direction: row;padding: 10px;width: 100%;justify-content: space-between;">
                    <div style="font-size: 18px;color: #443c3c;display: flex;font-weight: bold;">
                      <strong style="align-self: center;">Tu puntuación:</strong>
                    </div>
                    <div style="display: flex;flex-direction: column;width: 4rem;">
                      <field name="puntuacion" widget="percentpie" readonly="1" style="width: 60px; height: 60px; font-size: 12px;"/>
                      <field name="puntuacionUser" placeholder="Puntuación del usuario" style="font-size: 15px; color: #444; text-align: center; margin-top: 10px;" />
                    </div>
                  </div>
                  <field name="image_1920" widget="image" style="width: 256px; border-raidus:10px !important;"/>
                </div>
              </h1>
              <group>
                <field name="descripcion"/>
                <field name="ingredientes"/>
                <field name="receta"/>
                <field name="estado" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
                <field name="fecha_aprobado" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
                <field name="tipo_plato_id"/>
                <field name="autor_id" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
                <field name="aprobador_id" groups="vilaexplorer.group_vilaexplorer_admin,vilaexplorer.group_vilaexplorer_editor"/>
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Platos -->
    <record id="action_open_plato" model="ir.actions.act_window">
      <field name="name">Platos</field>
      <field name="res_model">vilaexplorer.plato</field>
      <field name="view_mode">tree,form,kanban,calendar</field>
      <field name="view_id" ref="view_vilaexplorer_plato_tree"/>
    </record>

    <!-- Definición de la vista Tree para Categorías de Plato -->
    <record id="view_vilaexplorer_categoria_plato_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.categoria_plato.tree</field>
      <field name="model">vilaexplorer.categoria_plato</field>
      <field name="arch" type="xml">
        <tree string="Categorías de Plato">
          <field name="nombre_categoria" string="Nombre de la Categoría" width="40%"/>
          <field name="activo" string="Activo" width="20%"/>
        </tree>
      </field>
    </record>

    <!-- Definición de la vista Form para Categorías de Plato -->
    <record id="view_vilaexplorer_categoria_plato_form" model="ir.ui.view">
      <field name="name">vilaexplorer.categoria_plato.form</field>
      <field name="model">vilaexplorer.categoria_plato</field>
      <field name="arch" type="xml">
        <form string="Categoría de Plato">
          <sheet>
            <group>
              <field name="nombre_categoria"/>
              <field name="activo"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Categorías de Plato -->
    <record id="action_open_categoria_plato" model="ir.actions.act_window">
      <field name="name">Categorías de Plato</field>
      <field name="res_model">vilaexplorer.categoria_plato</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_categoria_plato_tree"/>
    </record>

    <!-- Definición de la vista Tree para Tipos de Plato -->
    <record id="view_vilaexplorer_tipo_plato_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.tipo_plato.tree</field>
      <field name="model">vilaexplorer.tipo_plato</field>
      <field name="arch" type="xml">
        <tree string="Tipos de Plato">
          <field name="nombre_tipo" string="Nombre del Tipo de Plato" width="40%"/>
          <field name="categoria_plato_id" string="Categoría del Plato" width="30%"/>
          <field name="activo" string="Activo" width="20%"/>
        </tree>
      </field>
    </record>

    <!-- Definición de la vista Form para Tipos de Plato -->
    <record id="view_vilaexplorer_tipo_plato_form" model="ir.ui.view">
      <field name="name">vilaexplorer.tipo_plato.form</field>
      <field name="model">vilaexplorer.tipo_plato</field>
      <field name="arch" type="xml">
        <form string="Tipo de Plato">
          <sheet>
            <group>º
              <field name="nombre_tipo"/>
              <field name="categoria_plato_id"/>
              <field name="activo"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Tipos de Plato -->
    <record id="action_open_tipo_plato" model="ir.actions.act_window">
      <field name="name">Tipos de Plato</field>
      <field name="res_model">vilaexplorer.tipo_plato</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_tipo_plato_tree"/>
    </record>

    <!-- Definición de la vista Tree para Artículos -->
    <record id="view_vilaexplorer_articulo_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.articulo.tree</field>
      <field name="model">vilaexplorer.articulo</field>
      <field name="arch" type="xml">
        <tree string="Artículos">
          <field name="titulo" string="Título" width="30%"/>
          <field name="contenido" string="Contenido" width="30%"/>
          <field name="autor_id" string="Autor" width="30%"/>
          <field name="fecha_publicacion" string="Fecha de publicación" width="30%"/>
        </tree>
      </field>
    </record>

    <!-- Definición de la vista Form para Artículos -->
    <record id="view_vilaexplorer_articulo_form" model="ir.ui.view">
      <field name="name">vilaexplorer.articulo.form</field>
      <field name="model">vilaexplorer.articulo</field>
      <field name="arch" type="xml">
        <form string="Artículo">
          <sheet>
            <group>
              <field name="titulo"/>
              <field name="contenido"/>
              <field name="fecha_publicacion"/>
              <field name="autor_id"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Artículos -->
    <record id="action_open_articulos" model="ir.actions.act_window">
      <field name="name">Artículos</field>
      <field name="res_model">vilaexplorer.articulo</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_articulo_tree"/>
    </record>

    <!-- VISTA GRAPH - Platos por Año y Tipo -->
    <record id="view_plato_graph" model="ir.ui.view">
      <field name="name">Vista Gráficos de Platos</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <graph string="Gráficos de Platos" type="pie">
          <field name="fecha_aprobado" interval="year"/>
          <field name="tipo_plato_id" groupby="tipo_plato_id"/>
          <field name="estado"/>
        </graph>
      </field>
    </record>

    <!-- Platos por Estado (Aprobados vs No Aprobados) -->
    <record id="view_plato_graph_estado" model="ir.ui.view">
      <field name="name">Vista Gráfica de Platos por Estado</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <graph string="Platos por Estado de Aprobación" type="pie">
          <field name="estado" groupby="estado"/>
          <field name="id" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Platos Aprobados por Año -->
    <record id="view_plato_graph_fecha_aprobado" model="ir.ui.view">
      <field name="name">Vista Gráfica de Platos Aprobados por Año</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <graph string="Platos Aprobados por Año" type="bar">
          <field name="fecha_aprobado" interval="year"/>
          <field name="id" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Puntuación Promedio por Tipo de Plato -->
    <record id="view_plato_graph_puntuacion" model="ir.ui.view">
      <field name="name">Vista Gráfica de Puntuación por Tipo de Plato</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <graph string="Puntuación Promedio por Tipo de Plato" type="pie">
          <field name="tipo_plato_id" groupby="tipo_plato_id"/>
          <field name="puntuacion" operator="avg"/>
        </graph>
      </field>
    </record>

    <!-- Platos Creados por Autor -->
    <record id="view_plato_graph_autor" model="ir.ui.view">
      <field name="name">Vista Gráfica de Platos por Autor</field>
      <field name="model">vilaexplorer.plato</field>
      <field name="arch" type="xml">
        <graph string="Platos por Autor" type="bar">
          <field name="autor_id" groupby="autor_id"/>
          <field name="id" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Acciones para abrir las vistas gráficas -->
    <record id="action_open_graficos" model="ir.actions.act_window">
      <field name="name">Gráficos de Platos</field>
      <field name="res_model">vilaexplorer.plato</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_plato_graph"/>
    </record>

    <record id="action_open_graficos_estado" model="ir.actions.act_window">
      <field name="name">Platos por Estado</field>
      <field name="res_model">vilaexplorer.plato</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_plato_graph_estado"/>
    </record>

    <record id="action_open_graficos_fecha_aprobado" model="ir.actions.act_window">
      <field name="name">Platos por Año</field>
      <field name="res_model">vilaexplorer.plato</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_plato_graph_fecha_aprobado"/>
    </record>

    <record id="action_open_graficos_puntuacion" model="ir.actions.act_window">
      <field name="name">Puntuación por Tipo de Plato</field>
      <field name="res_model">vilaexplorer.plato</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_plato_graph_puntuacion"/>
    </record>

    <record id="action_open_graficos_autor" model="ir.actions.act_window">
      <field name="name">Platos por Autor</field>
      <field name="res_model">vilaexplorer.plato</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_plato_graph_autor"/>
    </record>

    <!-- Definición de la vista Tree para Lugares de Interés -->
    <record id="view_vilaexplorer_lugar_interes_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.lugar_interes.tree</field>
      <field name="model">vilaexplorer.lugar_interes</field>
      <field name="arch" type="xml">
        <tree string="Lugares de Interés">
          <field name="nombre_lugar" string="Nombre del Lugar" width="30%"/>
          <field name="tipo_lugar_id" string="Tipo de Lugar" width="20%"/>
          <field name="fecha_alta" string="Fecha de Alta" width="20%"/>
          <field name="activo" string="Activo" width="10%"/>
        </tree>
      </field>
    </record>

    <!-- Definición de la vista Form para Lugares de Interés -->
    <record id="view_vilaexplorer_lugar_interes_form" model="ir.ui.view">
      <field name="name">vilaexplorer.lugar_interes.form</field>
      <field name="model">vilaexplorer.lugar_interes</field>
      <field name="arch" type="xml">
        <form string="Lugar de Interés">
          <sheet>
            <group>
              <field name="nombre_lugar"/>
              <field name="descripcion"/>
              <field name="fecha_alta"/>
              <field name="imagen"/>
              <field name="tipo_lugar_id"/>
              <field name="activo"/>
              <field name="coordenadas_ids"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Lugares de Interés -->
    <record id="action_open_lugar_interes" model="ir.actions.act_window">
      <field name="name">Lugares de Interés</field>
      <field name="res_model">vilaexplorer.lugar_interes</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_lugar_interes_tree"/>
    </record>

    <!-- Definición de la vista Tree para Tipos de Lugar de Interés -->
    <record id="view_vilaexplorer_tipo_lugar_interes_tree" model="ir.ui.view">
      <field name="name">vilaexplorer.tipo_lugar_interes.tree</field>
      <field name="model">vilaexplorer.tipo_lugar_interes</field>
      <field name="arch" type="xml">
        <tree string="Tipos de Lugar de Interés">
          <field name="nombre_tipo" string="Nombre del Tipo de Lugar" width="40%"/>
        </tree>
      </field>
    </record>

    <!-- Definición de la vista Form para Tipos de Lugar de Interés -->
    <record id="view_vilaexplorer_tipo_lugar_interes_form" model="ir.ui.view">
      <field name="name">vilaexplorer.tipo_lugar_interes.form</field>
      <field name="model">vilaexplorer.tipo_lugar_interes</field>
      <field name="arch" type="xml">
        <form string="Tipo de Lugar de Interés">
          <sheet>
            <group>
              <field name="nombre_tipo"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Acción para abrir la vista de Tipos de Lugar de Interés -->
    <record id="action_open_tipo_lugar_interes" model="ir.actions.act_window">
      <field name="name">Tipos de Lugar de Interés</field>
      <field name="res_model">vilaexplorer.tipo_lugar_interes</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_vilaexplorer_tipo_lugar_interes_tree"/>
    </record>

    <!-- Usuarios Activos vs. Inactivos -->
    <record id="view_usuario_graph_activos" model="ir.ui.view">
      <field name="name">Vista Gráfica de Usuarios Activos</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <graph string="Usuarios Activos vs. Inactivos" type="pie">
          <field name="activo" groupby="activo"/>
          <field name="id" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Usuarios por Año de Creación -->
    <record id="view_usuario_graph_creacion" model="ir.ui.view">
      <field name="name">Vista Gráfica de Usuarios por Año</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <graph string="Usuarios por Año de Creación" type="bar">
          <field name="fecha_creacion" interval="year"/>
          <field name="id" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Cantidad de Artículos por Usuario -->
    <record id="view_usuario_graph_articulos" model="ir.ui.view">
      <field name="name">Vista Gráfica de Artículos por Usuario</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <graph string="Artículos por Usuario" type="bar">
          <field name="nombre" groupby="nombre"/>
          <field name="articulos" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Cantidad de Platos Creados por Usuario -->
    <record id="view_usuario_graph_platos" model="ir.ui.view">
      <field name="name">Vista Gráfica de Platos por Usuario</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <graph string="Platos Creados por Usuario" type="bar">
          <field name="nombre" groupby="nombre"/>
          <field name="mis_platos" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Cantidad de Platos Aprobados por Usuario -->
    <record id="view_usuario_graph_platos_aprobados" model="ir.ui.view">
      <field name="name">Vista Gráfica de Platos Aprobados por Usuario</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <graph string="Platos Aprobados por Usuario" type="bar">
          <field name="nombre" groupby="nombre"/>
          <field name="mis_platos_aprobados" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Usuarios por Rol Actual -->
    <record id="view_usuario_graph_roles" model="ir.ui.view">
      <field name="name">Vista Gráfica de Usuarios por Rol</field>
      <field name="model">vilaexplorer.usuario</field>
      <field name="arch" type="xml">
        <graph string="Usuarios por Rol" type="pie">
          <field name="rol_actual_id" groupby="rol_actual_id"/>
          <field name="id" operator="count"/>
        </graph>
      </field>
    </record>

    <!-- Acciones para abrir las vistas gráficas de usuarios -->
    <record id="action_open_usuario_graficos" model="ir.actions.act_window">
      <field name="name">Gráficos de Usuarios</field>
      <field name="res_model">vilaexplorer.usuario</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_usuario_graph_activos"/>
    </record>

    <record id="action_open_usuario_graficos_creacion" model="ir.actions.act_window">
      <field name="name">Usuarios por Año</field>
      <field name="res_model">vilaexplorer.usuario</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_usuario_graph_creacion"/>
    </record>

    <record id="action_open_usuario_graficos_articulos" model="ir.actions.act_window">
      <field name="name">Artículos por Usuario</field>
      <field name="res_model">vilaexplorer.usuario</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_usuario_graph_articulos"/>
    </record>

    <record id="action_open_usuario_graficos_platos" model="ir.actions.act_window">
      <field name="name">Platos por Usuario</field>
      <field name="res_model">vilaexplorer.usuario</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_usuario_graph_platos"/>
    </record>

    <record id="action_open_usuario_graficos_roles" model="ir.actions.act_window">
      <field name="name">Usuarios por Rol</field>
      <field name="res_model">vilaexplorer.usuario</field>
      <field name="view_mode">graph</field>
      <field name="view_id" ref="view_usuario_graph_roles"/>
    </record>




    <!-- TITULO EN GRANDE DEL MENU -->
    <menuitem id="menu_principal" name="Vilaexplorer"/>

    <!-- MENUS HORIZONTALES -->
    <menuitem id="menu_usuarios" name="Usuarios" parent="menu_principal"/>
    <menuitem id="menu_tradiciones" name="Tradiciones" parent="menu_principal" action="action_open_fiesta_tradicion"/>
    <menuitem id="menu_gastronomia" name="Gastronomía" parent="menu_principal"/>
    <menuitem id="menu_articulos" name="Articulos" parent="menu_principal" action="action_open_articulos"/>
    <menuitem id="lugar_interes" name="Lugares de interés" parent="menu_principal"/>


    <menuitem id="graficos_estadisticas" name="Gráficos Platos" parent="menu_principal" 
    groups="vilaexplorer.group_vilaexplorer_editor,vilaexplorer.group_vilaexplorer_admin"/>
    
    <menuitem id="graficos_usuarios" name="Gráficos Usuarios" 
    parent="menu_principal" groups="vilaexplorer.group_vilaexplorer_admin"/>

    <!-- SUBMENU GRAFICOS USUARIOS -->

    <menuitem id="graficos_usuarios_activos" name="Usuarios Activos" parent="graficos_usuarios" action="action_open_usuario_graficos"/>
    <menuitem id="graficos_usuarios_creacion" name="Usuarios por Año" parent="graficos_usuarios" action="action_open_usuario_graficos_creacion"/>
    <menuitem id="graficos_usuarios_articulos" name="Artículos por Usuario" parent="graficos_usuarios" action="action_open_usuario_graficos_articulos"/>
    <menuitem id="graficos_usuarios_platos" name="Platos por Usuario" parent="graficos_usuarios" action="action_open_usuario_graficos_platos"/>
    <menuitem id="graficos_usuarios_roles" name="Usuarios por Rol" parent="graficos_usuarios" action="action_open_usuario_graficos_roles"/>

    <!-- SUBMENU GRAFICOS PLATOS -->
    <menuitem id="graficos_platos" name="Platos por Estado" parent="graficos_estadisticas" action="action_open_graficos_estado"/>
    <menuitem id="graficos_platos_fecha" name="Platos por Año" parent="graficos_estadisticas" action="action_open_graficos_fecha_aprobado"/>
    <menuitem id="graficos_puntuacion" name="Puntuación por Tipo" parent="graficos_estadisticas" action="action_open_graficos_puntuacion"/>
    <menuitem id="graficos_autores" name="Platos por Autor" parent="graficos_estadisticas" action="action_open_graficos_autor"/>


    <!-- SUBMENU DE USUARIOS -->
    <menuitem id="submenu_usuarios_roles" name="Roles" parent="menu_usuarios" action="action_open_roles"/>
    <menuitem id="submenu_usuarios" name="Usuarios" parent="menu_usuarios" action="action_open_usuarios"/>

    <!-- SUBMENU DE GASTRONOMIA -->
    <menuitem id="submenu_gastronomia_plato" name="Platos" parent="menu_gastronomia" action="action_open_plato"/>
    <menuitem id="submenu_gastronomia_categorias" name="Categorías generales" parent="menu_gastronomia" action="action_open_categoria_plato"/>
    <menuitem id="submenu_gastronomia_subcategorias" name="Categorías específicas" parent="menu_gastronomia" action="action_open_tipo_plato"/>

    <!-- SUBMENU DE LUGARES DE INTERÉS -->
    <menuitem id="submenu_lugar_interes" name="Lugaeres de interes" parent="lugar_interes" action="action_open_lugar_interes"/>
    <menuitem id="submenu_lugar_interes_categorias" name="Categorías" parent="lugar_interes" action="action_open_tipo_lugar_interes"/>

  </data>
</odoo>